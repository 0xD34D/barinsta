<?xml version="1.0" encoding="utf-8"?>
<androidx.core.widget.NestedScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <awais.instagrabber.customviews.drawee.ZoomableDraweeView
            android:id="@+id/post_image"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@null"
            android:clickable="true"
            android:focusable="true"
            android:transitionName="post_image"
            app:actualImageScaleType="fitCenter"
            app:layout_constraintBottom_toTopOf="@id/bottom_bg_barrier"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/top_barrier"
            tools:background="@mipmap/ic_launcher"
            tools:layout_height="400dp"
            tools:visibility="gone" />

        <include
            android:id="@+id/video_post"
            layout="@layout/layout_video_player_with_thumbnail"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:visibility="gone"
            app:layout_constraintBottom_toTopOf="@id/bottom_bg_barrier"
            app:layout_constraintTop_toBottomOf="@id/top_barrier"
            tools:layout_height="400dp"
            tools:visibility="visible" />

        <androidx.viewpager2.widget.ViewPager2
            android:id="@+id/slider_parent"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:visibility="gone"
            app:layout_constraintBottom_toTopOf="@id/bottom_bg_barrier"
            app:layout_constraintTop_toBottomOf="@id/top_barrier"
            tools:layout_height="400dp"
            tools:visibility="gone" />

        <!--<View-->
        <!--    android:id="@+id/top_bg"-->
        <!--    android:layout_width="0dp"-->
        <!--    android:layout_height="0dp"-->
        <!--    app:layout_constraintBottom_toBottomOf="@id/profile_pic"-->
        <!--    app:layout_constraintEnd_toEndOf="parent"-->
        <!--    app:layout_constraintStart_toStartOf="parent"-->
        <!--    app:layout_constraintTop_toTopOf="parent" />-->

        <awais.instagrabber.customviews.ProfilePicView
            android:id="@+id/profile_pic"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_margin="12dp"
            android:transitionName="profile_pic"
            app:layout_constraintBottom_toTopOf="@id/top_barrier"
            app:layout_constraintEnd_toStartOf="@id/title"
            app:layout_constraintHorizontal_bias="0"
            app:layout_constraintHorizontal_chainStyle="packed"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:size="regular" />

        <androidx.appcompat.widget.AppCompatTextView
            android:id="@+id/title"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:ellipsize="marquee"
            android:singleLine="true"
            android:textAppearance="@style/TextAppearance.MaterialComponents.Headline6"
            app:layout_constrainedWidth="true"
            app:layout_constraintBottom_toTopOf="@id/subtitle"
            app:layout_constraintEnd_toStartOf="@id/options"
            app:layout_constraintStart_toEndOf="@id/profile_pic"
            app:layout_constraintTop_toTopOf="@id/profile_pic"
            tools:text="Username Username Username" />

        <androidx.appcompat.widget.AppCompatTextView
            android:id="@+id/subtitle"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:ellipsize="end"
            android:singleLine="true"
            android:textAppearance="@style/TextAppearance.MaterialComponents.Subtitle1"
            app:layout_constraintBottom_toBottomOf="@id/profile_pic"
            app:layout_constraintEnd_toStartOf="@id/options"
            app:layout_constraintStart_toStartOf="@id/title"
            app:layout_constraintTop_toBottomOf="@id/title"
            tools:text="Full name Full name Full name Full name Full name Full name Full name "
            tools:visibility="gone" />

        <androidx.appcompat.widget.AppCompatImageView
            android:id="@+id/options"
            android:layout_width="wrap_content"
            android:layout_height="0dp"
            android:paddingStart="8dp"
            android:paddingEnd="8dp"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@id/profile_pic"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/profile_pic"
            app:srcCompat="@drawable/ic_more_vert_24"
            tools:visibility="visible" />

        <androidx.constraintlayout.widget.Barrier
            android:id="@+id/top_barrier"
            android:layout_width="0dp"
            android:layout_height="0dp"
            app:barrierAllowsGoneWidgets="true"
            app:barrierDirection="bottom" />

        <!--<androidx.constraintlayout.widget.Group-->
        <!--    android:id="@+id/user_details_group"-->
        <!--    android:layout_width="0dp"-->
        <!--    android:layout_height="0dp"-->
        <!--    app:constraint_referenced_ids="profile_pic,title,subtitle,options" />-->

        <androidx.appcompat.widget.AppCompatTextView
            android:id="@+id/media_counter"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="16dp"
            android:layout_marginTop="16dp"
            android:background="@drawable/rounder_corner_semi_black_bg"
            android:gravity="center"
            android:padding="8dp"
            android:textAppearance="@style/TextAppearance.AppCompat.Caption"
            android:textColor="@android:color/white"
            android:visibility="gone"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/profile_pic"
            tools:text="1/5"
            tools:visibility="visible" />

        <com.google.android.material.button.MaterialButton
            android:id="@+id/location"
            style="?borderlessButtonStyle"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="16dp"
            android:layout_marginEnd="16dp"
            android:elevation="0dp"
            android:ellipsize="end"
            android:insetTop="0dp"
            android:insetBottom="0dp"
            android:maxWidth="200dp"
            android:maxLines="1"
            android:minHeight="32dp"
            android:paddingStart="8dp"
            android:paddingEnd="8dp"
            android:textAlignment="viewStart"
            android:textAllCaps="false"
            android:textColor="@android:color/white"
            android:visibility="gone"
            app:backgroundTint="@color/black_a50"
            app:elevation="0dp"
            app:icon="@drawable/ic_round_location_on_24"
            app:iconSize="16dp"
            app:iconTint="@color/white"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toBottomOf="@id/profile_pic"
            app:rippleColor="@color/grey_600"
            tools:text="Location, Location, Location, Location, "
            tools:visibility="visible" />

        <!--<androidx.coordinatorlayout.widget.CoordinatorLayout-->
        <!--    android:layout_width="match_parent"-->
        <!--    android:layout_height="0dp"-->
        <!--    android:background="@null"-->
        <!--    app:layout_constraintBottom_toBottomOf="@id/bottom_bg_barrier"-->
        <!--    app:layout_constraintEnd_toEndOf="parent"-->
        <!--    app:layout_constraintStart_toStartOf="parent"-->
        <!--    app:layout_constraintTop_toTopOf="parent"-->
        <!--    tools:visibility="gone">-->

        <!--    <androidx.core.widget.NestedScrollView-->
        <!--        android:id="@+id/caption_parent"-->
        <!--        android:layout_width="match_parent"-->
        <!--        android:layout_height="wrap_content"-->
        <!--        android:background="@color/black_a80"-->
        <!--        app:behavior_hideable="true"-->
        <!--        app:behavior_peekHeight="100dp"-->
        <!--        app:layout_behavior="com.google.android.material.bottomsheet.BottomSheetBehavior">-->

        <!--        <ScrollView-->
        <!--            android:id="@+id/bottom_scroll_view"-->
        <!--            android:layout_width="match_parent"-->
        <!--            android:layout_height="match_parent"-->
        <!--            android:background="@null">-->

        <!--            <LinearLayout-->
        <!--                android:layout_width="match_parent"-->
        <!--                android:layout_height="wrap_content"-->
        <!--                android:orientation="vertical">-->

        <!--                <awais.instagrabber.customviews.RamboTextViewV2-->
        <!--                    android:id="@+id/caption"-->
        <!--                    android:layout_width="match_parent"-->
        <!--                    android:layout_height="wrap_content"-->
        <!--                    android:layout_gravity="bottom"-->
        <!--                    android:background="@null"-->
        <!--                    android:clickable="true"-->
        <!--                    android:focusable="true"-->
        <!--                    android:padding="16dp"-->
        <!--                    android:textAppearance="@style/TextAppearance.MaterialComponents.Body1"-->
        <!--                    android:textColor="@color/white"-->
        <!--                    tools:text="Text text text" />-->

        <!--                &lt;!&ndash;<androidx.appcompat.widget.AppCompatTextView&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:id="@+id/editCaption"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:layout_width="match_parent"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:layout_height="wrap_content"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:layout_marginStart="16dp"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:layout_marginTop="8dp"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:background="@null"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:gravity="center_vertical"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:text="@string/edit_caption"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:textColor="?android:textColorSecondary"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:textSize="16sp"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:visibility="gone"&ndash;&gt;-->
        <!--                &lt;!&ndash;    app:layout_constraintBottom_toTopOf="@id/translatedCaption"&ndash;&gt;-->
        <!--                &lt;!&ndash;    app:layout_constraintTop_toBottomOf="@id/caption"&ndash;&gt;-->
        <!--                &lt;!&ndash;    tools:visibility="visible" />&ndash;&gt;-->

        <!--                <androidx.appcompat.widget.AppCompatTextView-->
        <!--                    android:id="@+id/translate"-->
        <!--                    android:layout_width="match_parent"-->
        <!--                    android:layout_height="wrap_content"-->
        <!--                    android:background="@null"-->
        <!--                    android:gravity="center_vertical"-->
        <!--                    android:paddingStart="16dp"-->
        <!--                    android:paddingTop="8dp"-->
        <!--                    android:paddingEnd="16dp"-->
        <!--                    android:paddingBottom="8dp"-->
        <!--                    android:text="@string/translate_caption"-->
        <!--                    android:textColor="@color/blue_600"-->
        <!--                    android:textSize="16sp"-->
        <!--                    android:visibility="visible" />-->

        <!--                &lt;!&ndash;<awais.instagrabber.customviews.RamboTextViewV2&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:id="@+id/translatedCaption"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:layout_width="match_parent"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:layout_height="wrap_content"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:layout_gravity="bottom"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:background="@null"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:clickable="true"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:focusable="true"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:padding="16dp"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:textAppearance="@style/TextAppearance.MaterialComponents.Body1"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:textColor="@color/white"&ndash;&gt;-->
        <!--                &lt;!&ndash;    android:visibility="gone"&ndash;&gt;-->
        <!--                &lt;!&ndash;    app:layout_constraintBottom_toBottomOf="parent"&ndash;&gt;-->
        <!--                &lt;!&ndash;    app:layout_constraintTop_toBottomOf="@id/translateTitle"&ndash;&gt;-->
        <!--                &lt;!&ndash;    tools:text="Text text text"&ndash;&gt;-->
        <!--                &lt;!&ndash;    tools:visibility="visible" />&ndash;&gt;-->
        <!--            </LinearLayout>-->
        <!--        </ScrollView>-->
        <!--    </androidx.core.widget.NestedScrollView>-->
        <!--</androidx.coordinatorlayout.widget.CoordinatorLayout>-->

        <!--<include-->
        <!--    android:id="@+id/player_controls"-->
        <!--    layout="@layout/layout_exo_custom_controls"-->
        <!--    android:layout_width="0dp"-->
        <!--    android:layout_height="wrap_content"-->
        <!--    android:visibility="gone"-->
        <!--    app:layout_constraintBottom_toTopOf="@id/bottom_bg_barrier"-->
        <!--    app:layout_constraintEnd_toEndOf="parent"-->
        <!--    app:layout_constraintStart_toStartOf="parent"-->
        <!--    tools:visibility="gone" />-->

        <View
            android:id="@+id/bottom_bg"
            android:layout_width="0dp"
            android:layout_height="0dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="@id/bottom_bg_barrier" />

        <androidx.constraintlayout.widget.Barrier
            android:id="@+id/bottom_bg_barrier"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:barrierAllowsGoneWidgets="true"
            app:barrierDirection="top"
            app:constraint_referenced_ids="likes_count,comments_count,views_count" />

        <androidx.appcompat.widget.AppCompatTextView
            android:id="@+id/likes_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="8dp"
            app:layout_constraintBottom_toTopOf="@id/counts_barrier"
            app:layout_constraintEnd_toStartOf="@id/comments_count"
            app:layout_constraintHorizontal_bias="0"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/bottom_bg_barrier"
            tools:text="9999999999 likes"
            tools:visibility="gone" />

        <androidx.appcompat.widget.AppCompatTextView
            android:id="@+id/comments_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="8dp"
            app:layout_constraintBottom_toTopOf="@id/counts_barrier"
            app:layout_constraintEnd_toStartOf="@id/views_count"
            app:layout_constraintHorizontal_bias="0"
            app:layout_constraintStart_toEndOf="@id/likes_count"
            app:layout_constraintTop_toBottomOf="@id/bottom_bg_barrier"
            tools:text="9999999 comments"
            tools:visibility="gone" />

        <androidx.appcompat.widget.AppCompatTextView
            android:id="@+id/views_count"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:padding="8dp"
            app:layout_constraintBottom_toTopOf="@id/counts_barrier"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toEndOf="@id/comments_count"
            app:layout_constraintTop_toBottomOf="@id/bottom_bg_barrier"
            tools:text="9999999999 views"
            tools:visibility="gone" />

        <androidx.constraintlayout.widget.Barrier
            android:id="@+id/counts_barrier"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:barrierAllowsGoneWidgets="true"
            app:barrierDirection="top"
            app:constraint_referenced_ids="date" />

        <androidx.appcompat.widget.AppCompatTextView
            android:id="@+id/date"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:padding="8dp"
            app:layout_constraintBottom_toBottomOf="@id/buttons_barrier"
            app:layout_constraintTop_toBottomOf="@id/counts_barrier"
            tools:text="2020-11-07 11:18:55"
            tools:visibility="visible" />

        <androidx.constraintlayout.widget.Barrier
            android:id="@+id/buttons_barrier"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:barrierAllowsGoneWidgets="true"
            app:barrierDirection="bottom"
            app:constraint_referenced_ids="date" />

        <!--<com.google.android.material.button.MaterialButton-->
        <!--    android:id="@+id/caption_toggle"-->
        <!--    style="@style/Widget.MaterialComponents.Button.TextButton"-->
        <!--    android:layout_width="0dp"-->
        <!--    android:layout_height="48dp"-->
        <!--    android:visibility="visible"-->
        <!--    app:icon="@drawable/ic_notes_24"-->
        <!--    app:iconGravity="textStart"-->
        <!--    app:iconPadding="0dp"-->
        <!--    app:iconSize="24dp"-->
        <!--    app:layout_constraintBottom_toTopOf="@id/caption_barrier"-->
        <!--    app:layout_constraintEnd_toStartOf="@id/like"-->
        <!--    app:layout_constraintStart_toStartOf="parent"-->
        <!--    app:layout_constraintTop_toBottomOf="@id/buttons_barrier"-->
        <!--    tools:visibility="visible" />-->

        <com.google.android.material.button.MaterialButton
            android:id="@+id/like"
            style="@style/Widget.MaterialComponents.Button.TextButton"
            android:layout_width="0dp"
            android:layout_height="48dp"
            android:visibility="visible"
            app:icon="@drawable/ic_not_liked"
            app:iconGravity="textStart"
            app:iconPadding="0dp"
            app:iconSize="24dp"
            app:layout_constraintBottom_toTopOf="@id/caption_barrier"
            app:layout_constraintEnd_toStartOf="@id/comment"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/buttons_barrier"
            tools:visibility="visible" />

        <com.google.android.material.button.MaterialButton
            android:id="@+id/comment"
            style="@style/Widget.MaterialComponents.Button.TextButton"
            android:layout_width="0dp"
            android:layout_height="48dp"
            android:visibility="visible"
            app:icon="@drawable/ic_outline_comments_24"
            app:iconGravity="textStart"
            app:iconPadding="0dp"
            app:iconSize="24dp"
            app:layout_constraintBottom_toTopOf="@id/caption_barrier"
            app:layout_constraintEnd_toStartOf="@id/save"
            app:layout_constraintStart_toEndOf="@id/like"
            app:layout_constraintTop_toBottomOf="@id/buttons_barrier"
            tools:visibility="visible" />

        <!--<com.google.android.material.button.MaterialButton-->
        <!--    android:id="@+id/player_controls_toggle"-->
        <!--    style="@style/Widget.MaterialComponents.Button.TextButton"-->
        <!--    android:layout_width="0dp"-->
        <!--    android:layout_height="48dp"-->
        <!--    android:visibility="gone"-->
        <!--    app:icon="@drawable/ic_play_circle_outline_24"-->
        <!--    app:iconGravity="textStart"-->
        <!--    app:iconPadding="0dp"-->
        <!--    app:iconSize="24dp"-->
        <!--    app:iconTint="@color/white"-->
        <!--    app:layout_constraintBottom_toBottomOf="parent"-->
        <!--    app:layout_constraintEnd_toStartOf="@id/save"-->
        <!--    app:layout_constraintStart_toEndOf="@id/comment"-->
        <!--    app:layout_constraintTop_toBottomOf="@id/buttons_barrier"-->
        <!--    app:rippleColor="@color/grey_300"-->
        <!--    tools:visibility="visible" />-->

        <com.google.android.material.button.MaterialButton
            android:id="@+id/save"
            style="@style/Widget.MaterialComponents.Button.TextButton"
            android:layout_width="0dp"
            android:layout_height="48dp"
            android:visibility="visible"
            app:icon="@drawable/ic_outline_class_24"
            app:iconGravity="textStart"
            app:iconPadding="0dp"
            app:iconSize="24dp"
            app:layout_constraintBottom_toTopOf="@id/caption_barrier"
            app:layout_constraintEnd_toStartOf="@id/share"
            app:layout_constraintStart_toEndOf="@id/comment"
            app:layout_constraintTop_toBottomOf="@id/buttons_barrier"
            tools:visibility="visible" />

        <com.google.android.material.button.MaterialButton
            android:id="@+id/share"
            style="@style/Widget.MaterialComponents.Button.TextButton"
            android:layout_width="0dp"
            android:layout_height="48dp"
            android:visibility="visible"
            app:icon="?attr/actionModeShareDrawable"
            app:iconGravity="textStart"
            app:iconPadding="0dp"
            app:iconSize="24dp"
            app:layout_constraintBottom_toTopOf="@id/caption_barrier"
            app:layout_constraintEnd_toStartOf="@id/download"
            app:layout_constraintStart_toEndOf="@id/save"
            app:layout_constraintTop_toBottomOf="@id/buttons_barrier"
            tools:visibility="visible" />

        <com.google.android.material.button.MaterialButton
            android:id="@+id/download"
            style="@style/Widget.MaterialComponents.Button.TextButton"
            android:layout_width="0dp"
            android:layout_height="48dp"
            android:visibility="visible"
            app:icon="@drawable/ic_download"
            app:iconGravity="textStart"
            app:iconPadding="0dp"
            app:iconSize="24dp"
            app:layout_constraintBottom_toTopOf="@id/caption_barrier"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toEndOf="@id/share"
            app:layout_constraintTop_toBottomOf="@id/buttons_barrier"
            tools:visibility="visible" />

        <androidx.constraintlayout.widget.Barrier
            android:id="@+id/caption_barrier"
            android:layout_width="0dp"
            android:layout_height="0dp"
            app:barrierAllowsGoneWidgets="true"
            app:barrierDirection="bottom"
            app:constraint_referenced_ids="like,comment,save,share,download" />

        <awais.instagrabber.customviews.RamboTextViewV2
            android:id="@+id/caption"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="bottom"
            android:background="@null"
            android:clickable="true"
            android:focusable="true"
            android:padding="8dp"
            android:textAppearance="@style/TextAppearance.MaterialComponents.Body1"
            app:layout_constraintBottom_toTopOf="@id/translate"
            app:layout_constraintTop_toBottomOf="@id/caption_barrier"
            tools:text="Text text text Text text text Text text text Text text text Text text text"
            tools:visibility="gone" />

        <androidx.appcompat.widget.AppCompatTextView
            android:id="@+id/translate"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@null"
            android:gravity="center_vertical"
            android:padding="8dp"
            android:text="@string/translate_caption"
            android:textColor="@color/blue_600"
            android:textSize="16sp"
            android:visibility="visible"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintTop_toBottomOf="@id/caption" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</androidx.core.widget.NestedScrollView>